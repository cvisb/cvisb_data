<div class="patient-id-filter container-column">
  <h4 class="filter-label">patient IDs</h4>

  <div class="container" *ngIf="patients">
    <!-- <input class="patient-ids" /> -->
    <ng-select #selectpatients class="patient-ids" [multiple]="true" [closeOnSelect]="true" [items]="loaded_patients" [virtualScroll]="true" [loading]="loading" (scroll)="onScroll($event)" (scrollToEnd)="onScrollToEnd()" [hideSelected]="true"
      placeholder="Enter comma-separated ID" (search)="onSearch($event)" (ngModelChange)="filterPatientIDs($event)" [(ngModel)]="selectedPatients">
      <!-- <ng-select #selectpatients class="patient-ids" [items]="all_patients" [multiple]="true" [closeOnSelect]="true" [hideSelected]="true" placeholder="Select patients" (search)="onSearch($event)" (ngModelChange)="filterPatientIDs($event)" [(ngModel)]="selectedPatients"> -->

      <ng-template ng-header-tmp>
        <small class="form-text text-muted">Loaded {{loaded_patients.length}} of {{all_patients.length}}</small>
      </ng-template>
      <ng-template ng-option-tmp let-item="item" let-index="index">
        {{item}}
      </ng-template>
    </ng-select>
    <!-- <mat-checkbox class="include-contacts" [(ngModel)]="inclContacts" (ngModelChange)="filterContacts($event)">include patient contacts</mat-checkbox> -->
  </div>

  <ng-container *ngIf="authorized$ | async as authorizedObj">
  <div id="S-G-ids" class="container-column" *ngIf="authorizedObj.authorized">
    <mat-checkbox class="include-sid" [(ngModel)]="inclSID" (ngModelChange)="filterID($event, 'sID')">has S- or C-id</mat-checkbox>

    <mat-checkbox class="include-gid" [(ngModel)]="inclGID" (ngModelChange)="filterID($event, 'gID')">has G-id</mat-checkbox>

  </div>
</ng-container>

</div>
