# Forked from https://github.com/data2health/schemas/blob/master/Dataset/Dataset.yaml
# Cross-referencing where applicable:
# Verified structure using:
#

---
# "@context":
#   dct:                 "http://purl.org/dc/terms/"
#   owl:                 "http://www.w3.org/2002/07/owl#"
#   rdf:                 "http://www.w3.org/1999/02/22-rdf-syntax-ns#"
#   rdfa:                "http://www.w3.org/ns/rdfa#"
#   rdfs:                "http://www.w3.org/2000/01/rdf-schema#"
#   schema:              "http://schema.org/"
#   xsd:                 "http://www.w3.org/2001/XMLSchema#"
#
#   # bsc:               "http://bioschemas.org/"
#   # bts:               "http://schema.biothings.io/"
#   cvisb:               "http://schema.cvisb.org/"
#
# "@id":                 "http://schema.cvisb.org/Sample/0.2"
#
# "@graph":

- "@id":                 cvisb:Sample
  "@type":               rdfs:Class
  rdfs:comment:          A schema describing a sample the Center for Viral Systems Biology. Primary samples = blood draw, tissue sample, urine, or feces.  Derived are some sort of isolation/preparation of whole blood/tissue, e.g. plasma, sera, DNA, RNA, etc.
  rdfs:label:            Sample
  rdfs:subClassOf:
    "@id":               cvisb:Thing
  schema:isPartOf:
    "@id":               https://schema.cvisb.org

# id
- "@id":                 cvisb:sampleID
  "@type":               rdf:Property
  rdfs:comment:          unique ID for the derived sample; ideally, the combination of sampleType and isolationDate
  rdfs:label:            sampleID
  schema:domainIncludes:
    - "@id":             cvisb:Sample
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  owl:cardinality:       one
  marginality:           required

# name
- "@id":                 cvisb:name
  "@type":               rdf:Property
  rdfs:comment:          Descriptive name of the derived sample
  rdfs:label:            name
  schema:domainIncludes:
    - "@id":             cvisb:Sample
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  schema:sameAs:
    "@id":               schema:name
  owl:cardinality:       one
  marginality:           optional

# description
- "@id":                 cvisb:description
  "@type":               rdf:Property
  rdfs:comment:          Short description of the derived sample
  rdfs:label:            description
  schema:domainIncludes:
    - "@id":             cvisb:Sample
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  schema:sameAs:
    "@id":               schema:description
  owl:cardinality:       one
  marginality:           optional

# patient ID
- "@id":                 cvisb:patientID
  "@type":               rdf:Property
  rdfs:comment:          "Unique patient id; G-number, S-number, or C-number"
  rdfs:label:            patientID
  schema:domainIncludes:
    - "@id":             cvisb:Sample
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  owl:cardinality:       one
  marginality:           required

# visit code
- "@id":                 cvisb:visitCode
  "@type":               rdf:Property
  rdfs:comment:          "Visit code for the patient (day post hospitalization of blood draw for patients, visit number after initial for follow-up/contact)"
  rdfs:label:            visitCode
  schema:domainIncludes:
    - "@id":             cvisb:Sample
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  owl:cardinality:       one
  marginality:           recommended

# isolation date
- "@id":                 cvisb:isolationDate
  "@type":               rdf:Property
  rdfs:comment:          "Date of sample creation/collection (NOT date of blood draw/tissue collection, unless the sample is that primary sample) (YYYY-MM-DD)"
  rdfs:label:            visitCode
  schema:domainIncludes:
    - "@id":             cvisb:Sample
  schema:rangeIncludes:
    - "@id":             schema:Date
  owl:cardinality:       one
  marginality:           recommended


# sample type
- "@id":                 cvisb:sampleType
  "@type":               rdf:Property
  rdfs:comment:              'Sample type. Primary types: "blood_purple-EDTA", "blood_blue-citrate", "blood_mixed", "blood_unknown", "urine", "feces", "organs", "tissue"; Derived types: "plasma", "serum", "buffy coat", "PBMC", "frozenPBMC-DNA", "frozenPBMC-RNA", "viralRNA", "totalRNA", "DNA"'
  rdfs:label:            sampleType
  schema:domainIncludes:
    - "@id":             cvisb:Sample
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  owl:cardinality:       one
  marginality:           required
  schema:Enumeration:
                        - "blood_purple-EDTA"
                        - "blood_blue-citrate"
                        - "blood_mixed"
                        - "blood_unknown"
                        - "urine"
                        - "feces"
                        - "organs"
                        - "tissue"
                        - "plasma"
                        - "serum"
                        - "buffy coat"
                        - "PBMC"
                        - "frozenPBMC-DNA"
                        - "frozenPBMC-RNA"
                        - "viralRNA"
                        - "totalRNA"
                        - "DNA"

# how far is the derived sample from the primary sample
- "@id":                 cvisb:derivedIndex
  "@type":               rdf:Property
  rdfs:comment:          Integer expressing how far derived the sample is from the primary sample.  Primary sample (e.g. blood draw) has a derivedIndex=0; PBMC=1, ...
  rdfs:label:            derivedIndex
  schema:domainIncludes:
    - "@id":             cvisb:Sample
  schema:rangeIncludes:
    - "@id":             schema:Integer
  owl:cardinality:       one
  marginality:           recommended

# sample species
- "@id":                 cvisb:species
  "@type":               rdf:Property
  rdfs:comment:          Source of sample (human or rat)
  rdfs:label:            sampleType
  schema:domainIncludes:
    - "@id":             cvisb:Sample
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  owl:cardinality:       one
  marginality:           recommended
  schema:Enumeration:
                        - "human"
                        - "rat"

# protocol
- "@id":                 cvisb:protocolVersion
  "@type":               rdf:Property
  rdfs:comment:          Protocol version to isolate sample; either file name and/or version
  rdfs:label:            protocolVersion
  schema:domainIncludes:
    - "@id":             cvisb:Sample
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  owl:cardinality:       many
  marginality:           optional

- "@id":                 cvisb:protocolURL
  "@type":               rdf:Property
  rdfs:comment:          Link to protocol used to isolate sample
  rdfs:label:            protocolURL
  schema:domainIncludes:
    - "@id":             cvisb:Sample
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  owl:cardinality:       many
  marginality:           optional

# Key sample isolation parameters
- "@id":                 cvisb:freezingBuffer
  "@type":               rdf:Property
  rdfs:comment:          What buffer was used to freeze the sample in; relevant for PBMC samples
  rdfs:label:            freezingBuffer
  schema:domainIncludes:
    - "@id":             cvisb:Sample
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  owl:cardinality:       one
  marginality:           optional

- "@id":                 cvisb:dilutionFactor
  "@type":               rdf:Property
  rdfs:comment:          How much a plamsa sample has been diluted from its original isolation
  rdfs:label:            dilutionFactor
  schema:domainIncludes:
    - "@id":             cvisb:Sample
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  owl:cardinality:       one
  marginality:           optional

- "@id":                 cvisb:AVLinactivated
  "@type":               rdf:Property
  rdfs:comment:          Whether a plasma or serum sample is AVL-inactivated
  rdfs:label:            AVLinactivated
  schema:domainIncludes:
    - "@id":             cvisb:Sample
  schema:rangeIncludes:
    - "@id":             schema:Boolean
  owl:cardinality:       one
  marginality:           optional

- "@id":                 cvisb:location
  "@type":               rdf:Property
  rdfs:comment:          Current location(s) for the sample, including Lab, number of aliquots, and when the info was last updated
  rdfs:label:            location
  schema:domainIncludes:
    - "@id":             cvisb:Sample
  schema:rangeIncludes:
    - "@id":             cvisb:SampleLocation
  owl:cardinality:       many
  marginality:           recommended
