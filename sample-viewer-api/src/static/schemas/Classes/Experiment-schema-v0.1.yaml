# Forked from https://github.com/data2health/schemas/blob/master/Dataset/Dataset.yaml
# Cross-referencing where applicable:
# Verified structure using:
#

---
# "@context":
#   dct:                 "http://purl.org/dc/terms/"
#   owl:                 "http://www.w3.org/2002/07/owl#"
#   rdf:                 "http://www.w3.org/1999/02/22-rdf-syntax-ns#"
#   rdfa:                "http://www.w3.org/ns/rdfa#"
#   rdfs:                "http://www.w3.org/2000/01/rdf-schema#"
#   schema:              "http://schema.org/"
#   xsd:                 "http://www.w3.org/2001/XMLSchema#"
#
#   # bsc:               "http://bioschemas.org/"
#   # bts:               "http://schema.biothings.io/"
#   cvisb:               "https://data.cvisb.org/jsonschema/"
#
# "@id":                 "https://data.cvisb.org/jsonschema/Experiment/0.1"
#
# "@graph":

- "@id":                 cvisb:Experiment
  "@type":               rdfs:Class
  rdfs:comment:          A schema describing an Experiment in the Center for Viral Systems Biology. An experiment is a measurement (specified by measurementTechnique) of a specific sample (e.g. a particular timepoint for a Patient).
  rdfs:label:            Experiment
  rdfs:subClassOf:
    "@id":               schema:Thing
  schema:isPartOf:
    "@id":               https://schema.cvisb.org
  root_entity:           true

# id
- "@id":                 cvisb:experimentID
  "@type":               rdf:Property
  rdfs:comment:          unique experiment ID for that sample analysed by that experimental method
  rdfs:label:            experimentID
  schema:domainIncludes:
    - "@id":             cvisb:Experiment
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  owl:cardinality:       one
  marginality:           required
  authenticated:         false

# batch id
- "@id":                 cvisb:batchID
  "@type":               rdf:Property
  rdfs:comment:          unique batch ID created by the lab doing the experiment
  rdfs:label:            batchID
  schema:domainIncludes:
    - "@id":             cvisb:Experiment
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  owl:cardinality:       many
  marginality:           recommended
  authenticated:         false

# sample ID
- "@id":                 cvisb:sampleID
  "@type":               rdf:Property
  rdfs:comment:          Sample ID used in the experiment
  rdfs:label:            sampleID
  schema:domainIncludes:
    - "@id":             cvisb:Experiment
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  owl:cardinality:       one
  marginality:           recommended
  authenticated:         true

# patient ID
- "@id":                 cvisb:patientID
  "@type":               rdf:Property
  rdfs:comment:          Public Patient IDs used within the experiment
  rdfs:label:            patientID
  schema:domainIncludes:
    - "@id":             cvisb:Experiment
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  owl:cardinality:       one
  marginality:           recommended
  authenticated:         false

- "@id":                 cvisb:privatePatientID
  "@type":               rdf:Property
  rdfs:comment:          Private Patient ID used within the experiment. Link to patient metadata properties
  rdfs:label:            privatePatientID
  schema:domainIncludes:
    - "@id":             cvisb:Experiment
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  owl:cardinality:       one
  marginality:           required
  authenticated:         true


# NCBI IDs
- "@id":                 cvisb:SRA_ID
  "@type":               rdf:Property
  rdfs:comment:          ID used by the National Center for Biotechnology Information (NCBI) to identify the data within the Sequence Read Archive (SRA)
  rdfs:label:            SRA_ID
  schema:domainIncludes:
    - "@id":             cvisb:Experiment
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  owl:cardinality:       one
  marginality:           recommended
  authenticated:         false

- "@id":                 cvisb:GenBank_ID
  "@type":               rdf:Property
  rdfs:comment:          ID used to identify the data within GenBank, the NIH's genetic sequence database
  rdfs:label:            GenBank_ID
  schema:domainIncludes:
    - "@id":             cvisb:Experiment
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  owl:cardinality:       one
  marginality:           recommended
  authenticated:         false

# name
- "@id":                 cvisb:name
  "@type":               rdf:Property
  rdfs:comment:          Descriptive name of the experiment
  rdfs:label:            name
  schema:domainIncludes:
    - "@id":             cvisb:Experiment
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  schema:sameAs:
    "@id":               schema:name
  owl:cardinality:       one
  marginality:           optional
  authenticated:         false

# description
- "@id":                 cvisb:description
  "@type":               rdf:Property
  rdfs:comment:          Short description of the experiment
  rdfs:label:            description
  schema:domainIncludes:
    - "@id":             cvisb:Experiment
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  schema:sameAs:
    "@id":               schema:description
  owl:cardinality:       one
  marginality:           optional
  authenticated:         false

# date
- "@id":                 cvisb:experimentDate
  "@type":               rdf:Property
  rdfs:comment:          Date of the Experiment
  rdfs:label:            experimentDate
  schema:domainIncludes:
    - "@id":             cvisb:Experiment
  schema:rangeIncludes:
    - "@id":             schema:Date
  owl:cardinality:       one
  marginality:           recommended
  authenticated:         false


# measurementTechnique
- "@id":                 cvisb:measurementTechnique
  "@type":               rdf:Property
  rdfs:comment:          A technique or technology used in an Experiment (or Dataset or DataDownload, DataCatalog), corresponding to the method used for measuring the corresponding variable(s) (described using variableMeasured).
  rdfs:label:            measurementTechnique
  schema:domainIncludes:
    - "@id":             cvisb:Experiment
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  schema:sameAs:
    "@id":               schema:measurementTechnique
  owl:cardinality:       one
  marginality:           required
  authenticated:         false
  schema:Enumeration:
                           - HLA sequencing
                           - viral sequencing
                           - metagenome sequencing
                           - BCR sequencing
                           - TCR sequencing
                           - Systems Serology
                           - Metabolomics
                           - blood chemistry
                           - vitals
                           - other
# when updated
- "@id":                 cvisb:dateModified
  "@type":               rdf:Property
  rdfs:comment:          Date of last update (YYYY-MM-DD)
  rdfs:label:            dateModified
  schema:domainIncludes:
    - "@id":             cvisb:Experiment
  schema:rangeIncludes:
    - "@id":             schema:Date
  schema:sameAs:
    "@id":               "schema:dateModified"
  owl:cardinality:       one
  marginality:           required
  authenticated:         false

- "@id":                 cvisb:updatedBy
  "@type":               rdf:Property
  rdfs:comment:          Person who updated the experiment data
  rdfs:label:            updatedBy
  schema:domainIncludes:
    - "@id":             cvisb:Experiment
  schema:rangeIncludes:
    # - "@id":           schema:Person
    - "@id":             xsd:string
    - "@id":             schema:Text
  owl:cardinality:       one
  marginality:           recommended
  authenticated:         true

  # versions
- "@id":                 cvisb:_version
  "@type":               rdf:Property
  rdfs:comment:          Version number of experiment, auto-assigned by CViSB database
  rdfs:label:            _version
  schema:domainIncludes:
    - "@id":             cvisb:Experiment
  schema:rangeIncludes:
    - "@id":             schema:Number
  schema:sameAs:
    "@id":               schema:version
  owl:cardinality:       one
  marginality:           recommended
  authenticated:         false

# Citation and other link identifiers
- "@id":                 cvisb:publisher
  "@type":               rdf:Property
  rdfs:comment:          Publisher of this dataset, usually the host organization
  rdfs:label:            publisher
  schema:domainIncludes:
    - "@id":             cvisb:Experiment
  schema:rangeIncludes:
    - "@id":             "cvisb:Organization"
  schema:sameAs:
    "@id":               "schema:publisher"
  owl:cardinality:       one
  marginality:           recommended
  authenticated:         false

- "@id":                 cvisb:publication
  "@type":               rdf:Property
  rdfs:comment:          Journal article or other publication associated with the dataset (stored as an object, not a string)
  rdfs:label:            publication
  schema:domainIncludes:
    - "@id":             cvisb:Experiment
  schema:rangeIncludes:
    - "@id":             cvisb:ScholarlyArticle
  schema:sameAs:
    "@id":               schema:publication
  owl:cardinality:       many
  marginality:           recommended
  authenticated:         false

# Code location
- "@id":                 cvisb:analysisCode
  "@type":               rdf:Property
  rdfs:comment:          "Computer programming source code. Example: Full (compile ready) solutions, code snippet samples, scripts, templates."
  rdfs:label:            analysisCode
  schema:domainIncludes:
    - "@id":             cvisb:Experiment
  schema:rangeIncludes:
    - "@id":             cvisb:SoftwareSourceCode
  owl:cardinality:       many
  marginality:           recommended
  authenticated:         false

# Data
- "@id":                 cvisb:data
  "@type":               rdf:Property
  rdfs:comment:          Data associated with the experiment. Typically summary values for that particular measurement.
  rdfs:label:            data
  schema:domainIncludes:
    - "@id":             cvisb:Experiment
  schema:rangeIncludes:
    - "@id":             cvisb:Data
    - "@id":             cvisb:PiccoloData
    - "@id":             cvisb:ViralSeqData
    - "@id":             cvisb:Vitals
    - "@id":             cvisb:HLAData
  owl:cardinality:       many
  marginality:           recommended
  authenticated:         false
