# Forked from https://github.com/data2health/schemas/blob/master/Dataset/Dataset.yaml
# Schema built on top of https://schema.org/DataDownload
# Cross-referencing where applicable:
# Verified structure using:
#

---
# "@context":
#   dct:                 "http://purl.org/dc/terms/"
#   owl:                 "http://www.w3.org/2002/07/owl#"
#   rdf:                 "http://www.w3.org/1999/02/22-rdf-syntax-ns#"
#   rdfa:                "http://www.w3.org/ns/rdfa#"
#   rdfs:                "http://www.w3.org/2000/01/rdf-schema#"
#   schema:              "http://schema.org/"
#   xsd:                 "http://www.w3.org/2001/XMLSchema#"
#
#   # bsc:               "http://bioschemas.org/"
#   # bts:               "http://schema.biothings.io/"
#   cvisb:               "https://data.cvisb.org/jsonschema/"
#
# "@id":                 "https://data.cvisb.org/jsonschema/DataDownload/0.1"
#
# "@graph":

- "@id":                 cvisb:DataDownload
  "@type":               rdfs:Class
  rdfs:comment:          A schema describing DataDownload in the Center for Viral Systems Biology
  rdfs:label:            DataDownload
  rdfs:subClassOf:
    "@id":               schema:DataDownload
  schema:isPartOf:
    "@id":               https://schema.cvisb.org

# name
- "@id":                 cvisb:name
  "@type":               rdf:Property
  rdfs:comment:          Descriptive name of the data file
  rdfs:label:            name
  schema:domainIncludes:
    - "@id":             cvisb:DataDownload
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  schema:sameAs:
    "@id":               schema:name
  owl:cardinality:       one
  marginality:           required
  authenticated:         false


# description
- "@id":                 cvisb:description
  "@type":               rdf:Property
  rdfs:comment:          Short summary describing a data file
  rdfs:label:            description
  schema:domainIncludes:
    - "@id":             cvisb:DataDownload
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  schema:sameAs:
    "@id":               schema:description
  owl:cardinality:       one
  marginality:           recommended
  authenticated:         false

# DOI
- "@id":                 cvisb:identifier
  "@type":               rdf:Property
  rdfs:comment:          "A unique identifier for the DataDownload. Note: should be an internal, CViSB identifier; DOIs should go in @id"
  rdfs:label:            identifier
  schema:domainIncludes:
    - "@id":             cvisb:DataDownload
  schema:rangeIncludes:
    "@id":               xsd:string
  schema:sameAs:
    "@id":               schema:identifier
  owl:cardinality:       one
  marginality:           required
  authenticated:         false

- "@id":                 cvisb:@id
  "@type":               rdf:Property
  rdfs:comment:          A unique identifier for the dataset, preferably a DOI
  rdfs:label:            "@id"
  schema:domainIncludes:
    - "@id":             cvisb:DataDownload
  schema:rangeIncludes:
    "@id":               schema:URL
  schema:sameAs:
    "@id":               schema:identifier
  owl:cardinality:       one
  marginality:           recommended
  authenticated:         false


- "@id":                 cvisb:isBasedOn
  "@type":               rdf:Property
  rdfs:comment:          A reference to the identifier of a parent file(s), e.g. raw data that this analysis file is based on
  rdfs:label:            isBasedOn
  schema:domainIncludes:
    - "@id":             cvisb:DataDownload
  schema:rangeIncludes:
    "@id":               xsd:string
  schema:sameAs:
    "@id":               schema:isBasedOn
  owl:cardinality:       many
  marginality:           recommended
  authenticated:         false

# versions
- "@id":                 cvisb:_version
  "@type":               rdf:Property
  rdfs:comment:          Version of data file, auto-assigned by CViSB database
  rdfs:label:            _version
  schema:domainIncludes:
    - "@id":             cvisb:DataDownload
  schema:rangeIncludes:
    - "@id":             schema:Number
  schema:sameAs:
    "@id":               schema:version
  owl:cardinality:       one
  marginality:           recommended
  authenticated:         false

# link to file
- "@id":                 cvisb:contentUrl
  "@type":               rdf:Property
  rdfs:comment:          URL pointing to the actual location of the file
  rdfs:label:            contentUrl
  schema:domainIncludes:
    - "@id":             cvisb:DataDownload
  schema:rangeIncludes:
    - "@id":             schema:URL
  schema:sameAs:
    "@id":               schema:contentUrl
  owl:cardinality:       one
  marginality:           required
  authenticated:         false

- "@id":                 cvisb:contentUrlRepository
  "@type":               rdf:Property
  rdfs:comment:          Name of the repository where the file is stored, e.g. the NIH's Sequence Read Archive
  rdfs:label:            contentUrlRepository
  schema:domainIncludes:
    - "@id":             cvisb:DataDownload
  schema:rangeIncludes:
    - "@id":             schema:Text
  owl:cardinality:       one
  marginality:           recommended
  schema:Enumeration:
                        - SRA
                        - AWS
  authenticated:         false

- "@id":                 cvisb:contentUrlIdentifier
  "@type":               rdf:Property
  rdfs:comment:          Unique identifier used at the contentUrl location, for instance the NIH SRA id for the file/sample or Accession number
  rdfs:label:            contentUrlIdentifier
  schema:domainIncludes:
    - "@id":             cvisb:DataDownload
  schema:rangeIncludes:
    - "@id":             schema:Text
  owl:cardinality:       one
  marginality:           recommended
  authenticated:         false


- "@id":                 cvisb:publication
  "@type":               rdf:Property
  rdfs:comment:          Journal article or other publication associated with the dataset (stored as an object, not a string)
  rdfs:label:            publication
  schema:domainIncludes:
    - "@id":             cvisb:DataDownload
  schema:rangeIncludes:
    - "@id":             cvisb:ScholarlyArticle
  schema:sameAs:
    "@id":               schema:publication
  owl:cardinality:       many
  marginality:           recommended
  authenticated:         false

# duplicate source
- "@id":                 cvisb:sameAs
  "@type":               rdf:Property
  rdfs:comment:          URL to cross-reference other copies of the data file
  rdfs:label:            sameAs
  schema:domainIncludes:
    - "@id":             cvisb:DataDownload
  schema:rangeIncludes:
    "@id":               schema:URL
  schema:sameAs:
    "@id":               schema:sameAs
  owl:cardinality:       many
  marginality:           optional
  authenticated:         false

# keywords
- "@id":                 cvisb:additionalType
  "@type":               rdf:Property
  rdfs:comment:          Type of data download file, such as raw data, processed data, summary data
  rdfs:label:            additionalType
  schema:domainIncludes:
    - "@id":             cvisb:DataDownload
  schema:rangeIncludes:
    "@id":               schema:Text
    "@id":               xsd:string
  owl:cardinality:       many
  marginality:           required
  schema:Enumeration:
                        - raw data
                        - analyzed data
                        - summary data
  authenticated:         false

# keywords
- "@id":                 cvisb:keywords
  "@type":               rdf:Property
  rdfs:comment:          Comma-seperated keywords to summarize the DataDownload
  rdfs:label:            keywords
  schema:domainIncludes:
    - "@id":             cvisb:DataDownload
  schema:rangeIncludes:
    "@id":               xsd:string
  schema:sameAs:
    "@id":               schema:keywords
  owl:cardinality:       many
  marginality:           recommended
  authenticated:         false


# measurementTechnique
- "@id":                 cvisb:measurementTechnique
  "@type":               rdf:Property
  rdfs:comment:          A technique or technology used in a Dataset (or DataDownload, DataCatalog), corresponding to the method used for measuring the corresponding variable(s) (described using variableMeasured).
  rdfs:label:            measurementTechnique
  schema:domainIncludes:
    - "@id":             cvisb:DataDownload
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  schema:sameAs:
    "@id":               schema:measurementTechnique
  owl:cardinality:       one
  marginality:           required
  schema:Enumeration:
                           - HLA sequencing
                           - viral sequencing
                           - metagenome sequencing
                           - BCR sequencing
                           - TCR sequencing
                           - Systems Serology
                           - Metabolomics
                           - other
  authenticated:         false

# file extension
# https://blogs.msdn.microsoft.com/vsofficedeveloper/2008/05/08/office-2007-file-format-mime-types-for-http-content-streaming-2/
# https://www.iana.org/assignments/media-types/media-types.xhtml
- "@id":                 cvisb:encodingFormat
  "@type":               rdf:Property
  rdfs:comment:          File extension
  rdfs:label:            encodingFormat
  schema:domainIncludes:
    - "@id":             cvisb:DataDownload
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  schema:sameAs:
    "@id":               schema:encodingFormat
  owl:cardinality:       one
  marginality:           recommended
  schema:Enumeration:
                         - text/csv
                         - text/plain
                         - text/fasta
                         - text/bed
                         - text/html
                         - application/json
                         - application/bam
                         - application/vnd.ms-excel
                         - application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
                         - application/xml
                         - application/zip
                         - application/gzip
  authenticated:         false

# dates
- "@id":                 cvisb:dateCreated
  "@type":               rdf:Property
  rdfs:comment:          Date of first creation
  rdfs:label:            dateCreated
  schema:domainIncludes:
    - "@id":             cvisb:DataDownload
  schema:rangeIncludes:
    "@id":               schema:Date
  schema:sameAs:
    "@id":               "schema:dateCreated"
  owl:cardinality:       one
  marginality:           recommended
  authenticated:         false

- "@id":                 cvisb:datePublished
  "@type":               rdf:Property
  rdfs:comment:          Date of first broadcast/publication
  rdfs:label:            datePublished
  schema:domainIncludes:
    - "@id":             cvisb:DataDownload
  schema:rangeIncludes:
    "@id":               schema:Date
  schema:sameAs:
    "@id":               "schema:datePublished"
  owl:cardinality:       one
  marginality:           recommended
  authenticated:         false

- "@id":                 cvisb:dateModified
  "@type":               rdf:Property
  rdfs:comment:          Date on which the DataDownload was most recently modified (YYYY-DD-MM)
  rdfs:label:            dateModified
  schema:domainIncludes:
    - "@id":             cvisb:DataDownload
  schema:rangeIncludes:
    "@id":               schema:Date
  schema:sameAs:
    "@id":               "schema:dateModified"
  owl:cardinality:       one
  marginality:           required
  authenticated:         false


- "@id":                 cvisb:updatedBy
  "@type":               rdf:Property
  rdfs:comment:          Person who updated the data download data
  rdfs:label:            updatedBy
  schema:domainIncludes:
    - "@id":             cvisb:DataDownload
  schema:rangeIncludes:
    # - "@id":           schema:Person
    - "@id":             xsd:string
    - "@id":             schema:Text
  owl:cardinality:       one
  marginality:           recommended
  authenticated:         true

# Author
- "@id":                 cvisb:author
  "@type":               rdf:Property
  rdfs:comment:          Author of this DataDownload, can be a person or an organization. Usually specified in Dataset object.
  rdfs:label:            author
  schema:domainIncludes:
    - "@id":             cvisb:DataDownload
  schema:rangeIncludes:
    - "@id":             "cvisb:Organization"
  schema:sameAs:
    "@id":               "schema:author"
  owl:cardinality:       many
  marginality:           optional
  authenticated:         false

- "@id":                 cvisb:publisher
  "@type":               rdf:Property
  rdfs:comment:          Publisher of this dataset, usually the host organization
  rdfs:label:            publisher
  schema:domainIncludes:
    - "@id":             cvisb:DataDownload
  schema:rangeIncludes:
    - "@id":             "cvisb:Organization"
  schema:sameAs:
    "@id":               "schema:publisher"
  owl:cardinality:       many
  marginality:           recommended
  authenticated:         false

# Code location
- "@id":                 cvisb:sourceCode
  "@type":               rdf:Property
  rdfs:comment:          "Computer programming source code. Example: Full (compile ready) solutions, code snippet samples, scripts, templates."
  rdfs:label:            sourceCode
  schema:domainIncludes:
    - "@id":             cvisb:DataDownload
  schema:rangeIncludes:
    - "@id":             cvisb:SoftwareSourceCode
  owl:cardinality:       many
  marginality:           recommended
  authenticated:         false

# Experimental metadata
- "@id":                 cvisb:experimentIDs
  "@type":               rdf:Property
  rdfs:comment:          Unique experimental ID that of the experiment that generated the data. Used as a handle into the metadata describing how the data were generated, processed, and analysed.
  rdfs:label:            experimentIDs
  schema:domainIncludes:
    - "@id":             cvisb:DataDownload
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  owl:cardinality:       many
  marginality:           recommended
  authenticated:         false
