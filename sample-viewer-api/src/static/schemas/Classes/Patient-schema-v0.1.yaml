# Forked from https://github.com/data2health/schemas/blob/master/Dataset/Dataset.yaml
# Schema built on top of https://schema.org/Patient
# Verified structure using:
#

---
# "@context":
#   dct:                 "http://purl.org/dc/terms/"
#   owl:                 "http://www.w3.org/2002/07/owl#"
#   rdf:                 "http://www.w3.org/1999/02/22-rdf-syntax-ns#"
#   rdfa:                "http://www.w3.org/ns/rdfa#"
#   rdfs:                "http://www.w3.org/2000/01/rdf-schema#"
#   schema:              "http://schema.org/"
#   health:              "https://health-lifesci.schema.org/"
#   xsd:                 "http://www.w3.org/2001/XMLSchema#"
#
#   # bsc:               "http://bioschemas.org/"
#   # bts:               "http://schema.biothings.io/"
#   cvisb:               "http://schema.cvisb.org/"
#
# "@id":                 "http://schema.cvisb.org/Patient/0.1"
#
# "@graph":
- "@id":                 cvisb:Patient
  "@type":               rdfs:Class
  rdfs:comment:          A schema describing a Patient/Person in the Center for Viral Systems Biology experiments
  rdfs:label:            Patient
  rdfs:subClassOf:
    "@id":               health:Patient
  schema:isPartOf:
    "@id":               https://schema.cvisb.org


# identifier
- "@id":                 cvisb:patientID
  "@type":               rdf:Property
  rdfs:comment:          Unique, public ID for patient
  rdfs:label:            patientID
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    - "@id":             schema:Text
  schema:sameAs:
    "@id":               schema:identifier
  owl:cardinality:       one
  marginality:           required
  authenticated:         false

# alternate identifier
- "@id":                 cvisb:alternateIdentifier
  "@type":               rdf:Property
  rdfs:comment:          Alternative ID(s) used for patient (including G-number, S-number, or C-numbers, available to consortia members only)
  rdfs:label:            alternateIdentifier
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    - "@id":             schema:Text
  owl:cardinality:       many
  marginality:           optional
  authenticated:         true

- "@id":                 cvisb:gID
  "@type":               rdf:Property
  rdfs:comment:          "Internal G-number used to refer to the patients when they're in the acute treatment phase at KGH. For most samples, should be a single gID; however, some patients have two."
  rdfs:label:            gID
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    - "@id":             schema:Text
  owl:cardinality:       many
  marginality:           optional
  authenticated:         true

- "@id":                 cvisb:sID
  "@type":               rdf:Property
  rdfs:comment:          "Internal survivor ID used to refer to the patients during follow-up visits. Can include either survivors (S-numbers) or contacts (C-numbers)"
  rdfs:label:            sID
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    - "@id":             schema:Text
  owl:cardinality:       one
  marginality:           optional
  authenticated:         true

# sameAs: handle into the public alternate identifier(s) that also represent the patient.
# Used to connect S- and G-numbers together.
- "@id":                 cvisb:sameAs
  "@type":               rdf:Property
  rdfs:comment:          Alternative public ID(s) used for patient. Used to relate acute patients (G-numbers) to their ID in survivor study
  rdfs:label:            sameAs
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    - "@id":             schema:Text
  schema:sameAs:
    "@id":               "schema:sameAs"
  owl:cardinality:       many
  marginality:           optional
  authenticated:         false

# household identifier
- "@id":                 cvisb:contactGroupIdentifier
  "@type":               rdf:Property
  rdfs:comment:          ID group for patient and associated contacts
  rdfs:label:            contactGroupIdentifier
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    - "@id":             schema:Text
  owl:cardinality:       one
  marginality:           recommended
  authenticated:         false

# date modified
- "@id":                 cvisb:dateModified
  "@type":               rdf:Property
  rdfs:comment:          Date on which the Patient metadata was most recently modified
  rdfs:label:            dateModified
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    "@id":               schema:Date
  schema:sameAs:
    "@id":               "schema:dateModified"
  owl:cardinality:       one
  marginality:           required
  authenticated:         false

  # versions
- "@id":                 cvisb:_version
  "@type":               rdf:Property
  rdfs:comment:          Version number of patient, auto-assigned by CViSB database
  rdfs:label:            _version
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    - "@id":             schema:Number
  schema:sameAs:
    "@id":               schema:version
  owl:cardinality:       one
  marginality:           recommended
  authenticated:         false

# Main cohort
- "@id":                 cvisb:cohort
  "@type":               rdf:Property
  rdfs:comment:          "Cohort for virus exposure: Ebola, Lassa, or Control"
  rdfs:label:            cohort
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    - "@id":             schema:Text
  owl:cardinality:       one
  marginality:           required
  schema:Enumeration:
                         - Ebola
                         - Lassa
                         - control
  authenticated:         false

# Outcome cohort
- "@id":                 cvisb:outcome
  "@type":               rdf:Property
  rdfs:comment:          "Outcome for patient: control, survivor, contact, dead"
  rdfs:label:            outcome
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    - "@id":             schema:Text
  owl:cardinality:       one
  marginality:           required
  schema:Enumeration:
                         - control
                         - survivor
                         - contact
                         - dead
                         - unknown
  authenticated:         false

# geographic location (country)
- "@id":                 cvisb:country
  "@type":               rdf:Property
  rdfs:comment:          Country where Patient lives / was treated
  rdfs:label:            Country
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    - "@id":             cvisb:Country
  schema:sameAs:
    "@id":               schema:geographicArea
  owl:cardinality:       one
  marginality:           required
  authenticated:         false

# household location
- "@id":                 cvisb:homeLocation
  "@type":               rdf:Property
  rdfs:comment:          A contact location for a person's residence. Should include country (Administrative Unit 0), district (Administrative Unit 2), chiefdom (Administrative Unit 3), Village + displaced GPS coordinates (optional)
  rdfs:label:            homeLocation
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    - "@id":             cvisb:AdministrativeArea
  schema:sameAs:
    "@id":               schema:homeLocation
  owl:cardinality:       many
  marginality:           recommended
  authenticated:         true

# date of admission
- "@id":                 cvisb:admitDate
  "@type":               rdf:Property
  rdfs:comment:          Date of admission
  rdfs:label:            admitDate
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    - "@id":             schema:Date
    - "@id":             cvsib:DateRange
  owl:cardinality:       one
  marginality:           optional
  authenticated:         true

# Approximate year of infection
- "@id":                 cvisb:infectionYear
  "@type":               rdf:Property
  rdfs:comment:          Approximate year of infection or contact with the virus. Based on self-reporting, so take it with a grain of salt.
  rdfs:label:            infectionDate
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    - "@id":             cvisb:DateRange
  owl:cardinality:       one
  marginality:           optional
  authenticated:         false

# Approximate date of infection
- "@id":                 cvisb:infectionDate
  "@type":               rdf:Property
  rdfs:comment:          Approximate date / date range of infection or contact with the virus. Based on self-reporting, so take it with a grain of salt.
  rdfs:label:            infectionDate
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    - "@id":             schema:Date
    - "@id":             cvisb:DateRange
  owl:cardinality:       one
  marginality:           optional
  authenticated:         true

# time from onset of symptoms
- "@id":                 cvisb:daysOnset
  "@type":               rdf:Property
  rdfs:comment:          Number of days between onset of symptoms and hospital admission
  rdfs:label:            daysOnset
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    - "@id":             schema:Integer
  owl:cardinality:       one
  marginality:           optional
  authenticated:         false


# gender
- "@id":                 cvisb:gender
  "@type":               rdf:Property
  rdfs:comment:          Gender
  rdfs:label:            gender
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    - "@id":             schema:GenderType
  schema:sameAs:
    "@id":               schema:gender
  owl:cardinality:       one
  marginality:           recommended
  schema:Enumeration:
                         - Male
                         - Female
                         - Unknown
  authenticated:         false

# contacts:
- "@id":                 cvisb:relatedTo
  "@type":               rdf:Property
  rdfs:comment:          A list of related household contacts's public patientIDs
  rdfs:label:            relatedTo
  schema:domainIncludes:
    - "@id":             schema:Text
  schema:rangeIncludes:
    - "@id":             schema:Text
  owl:cardinality:       many
  marginality:           optional
  authenticated:         false

- "@id":                 cvisb:exposureType
  "@type":               rdf:Property
  rdfs:comment:          For contacts, the type or level of exposure they had to the infected person.
  rdfs:label:            exposureType
  schema:domainIncludes:
    - "@id":             schema:Text
  schema:rangeIncludes:
    - "@id":             schema:Text
  owl:cardinality:       one
  marginality:           optional
  authenticated:         true

- "@id":                 cvisb:contactSurvivorRelationship
  "@type":               rdf:Property
  rdfs:comment:          For contacts, how they are related to the infected person.
  rdfs:label:            contactSurvivorRelationship
  schema:domainIncludes:
    - "@id":             schema:Text
  schema:rangeIncludes:
    - "@id":             schema:Text
  owl:cardinality:       one
  marginality:           optional
  authenticated:         true

# age
- "@id":                 cvisb:age
  "@type":               rdf:Property
  rdfs:comment:          Age at time of first presentation
  rdfs:label:            age
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    - "@id":             schema:Integer
  owl:cardinality:       one
  marginality:           recommended
  minimum:               1
  maximum:               100
  authenticated:         false


# sample IDs
- "@id":                 cvisb:associatedSamples
  "@type":               rdf:Property
  rdfs:comment:          List of Sample IDs associated with the patient
  rdfs:label:            associatedSamples
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    - "@id":             xsd:string
    - "@id":             schema:Text
  owl:cardinality:       many
  marginality:           recommended
  authenticated:         false

  # Merged data:         availableData
- "@id":                 cvisb:availableData
  "@type":               rdf:Property
  rdfs:comment:          List of available data and results (where known) for the patient
  rdfs:label:            availableData
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    - "@id":             cvisb:ExperimentData
  owl:cardinality:       many
  marginality:           recommended
  authenticated:         false

# ELISAs
- "@id":                 cvisb:elisa
  "@type":               rdf:Property
  rdfs:comment:          List of ELISA results (IgG, IgM, Ag for Ebola/Lassa antigen) for the patient
  rdfs:label:            elisa
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    - "@id":             cvisb:ELISA
  owl:cardinality:       many
  marginality:           recommended
  authenticated:         false

# RDT:                   rapid diagnostic tests
- "@id":                 cvisb:rapidDiagostics
  "@type":               rdf:Property
  rdfs:comment:          List of rapid Ebola/Lassa dipstick diagnostic results for the patient
  rdfs:label:            rapidDiagostics
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    - "@id":             cvisb:RDT
  owl:cardinality:       many
  marginality:           recommended
  authenticated:         false

# RT-PCR
- "@id":                 cvisb:rtpcr
  "@type":               rdf:Property
  rdfs:comment:          List of RT-PCR results for the patient
  rdfs:label:            rtpcr
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    - "@id":             cvisb:RTPCR
  owl:cardinality:       many
  marginality:           recommended
  authenticated:         false

# Symptoms
- "@id":                 cvisb:symptoms
  "@type":               rdf:Property
  rdfs:comment:          List of symptoms for the patient
  rdfs:label:            symptoms
  schema:domainIncludes:
    - "@id":             cvisb:Patient
  schema:rangeIncludes:
    - "@id":             cvisb:SymptomList
  owl:cardinality:       many
  marginality:           recommended
  authenticated:         false
